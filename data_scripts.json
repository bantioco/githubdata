{"data":[{"title":"timer js","category":"javascript","text":"<p>mini timer en javascript..</p>\n<pre class=\"language-javascript\"><code>var t = 0, time;\n\nvar startTimer = function(){\n    time = setInterval(function(){\n        t ++;\n        console.log(t);\n        if( t == 10 ){\n            // Action\n            window.location.reload();\n        }\n    },1000);\n}\nstartTimer();\n\ndocument.onmousemove = function(){\n    clearInterval(time);\n};\n\nsetInterval(function(){\n    t = 0;\n    startTimer();\n}, 15000);</code></pre>\n<p>&nbsp;</p>","dateinsert":"2017-01-19 08:07:20"},{"title":"date js","category":"jquery","text":"<p>function pour g&eacute;rer les date en javascript</p>\n<pre class=\"language-javascript\"><code>$().getDate(\"y-m-d H:M:S\");</code></pre>\n<pre class=\"language-javascript\"><code>(function( $ ){\n    $.fn.getDate = function(format) {\n        var gDate       = new Date();\n        var mDate       = {\n            'S': gDate.getSeconds(),\n            'M': gDate.getMinutes(),\n            'H': gDate.getHours(),\n            'd': gDate.getDate(),\n            'm': gDate.getMonth() + 1,\n            'y': gDate.getFullYear(),\n        }\n        return format.replace(/([SMHdmy])/g, function(key){return (mDate[key] &lt; 10 ? '0' : '') + mDate[key];});\n        return getDate(str);\n    };\n})( jQuery );</code></pre>\n<p>&nbsp;</p>","dateinsert":"2017-01-19 08:07:20"},{"title":"fs créé un fichier json","category":"javascript","text":"<p>Cr&eacute;&eacute; un fichier json avec fs :</p>\n<pre class=\"language-javascript\"><code>$('form#add_data').on('submit', function( e ){\n    e.preventDefault();\n\n    // Get data form\n    let data_title      = $('#add_data_title').val();\n    let data_category   = $('#add_data_category').val();\n    let data_text       = $('#add_data_text').val();\n\n    // Controle lenght post data_title\n    if( data_title.length &gt;= 1 ){\n        // Controle lenght post data_category\n        if( data_category.length &gt;= 1 ){\n            // Controle lenght post data_text\n            if( data_text.length &gt;= 1){\n                fs.open('data/data_scripts.json', 'r+', (err, fd) =&gt; {\n                    if( err || fd == undefined ){ create_file( data_title, data_category, data_text ); }\n                    else{ add_data_in_file( data_title, data_category, data_text ); }\n                });\n            }\n            // Notice lenght post data_text\n            else{\n                $('#add_data_text').val('required');\n                setTimeout(function(){ $('#add_data_text').val(''); },1000);\n            }\n        }\n        else{}\n    }\n    // Notice lenght post data_title\n    else{\n        $('#add_data_title').val('required');\n        setTimeout(function(){ $('#add_data_title').val(''); },1000);\n    }\n\n});\n\n\n// Create file &amp; add data\nfunction create_file( title, category, text ){\n    var json_data = { data: [ { title:title, category:category, text:text } ] };\n    fs.writeFile('data/data_scripts.json', JSON.stringify( json_data ), (err) =&gt; {\n        if (err) throw err;\n        console.log('It\\'s saved!');\n        $.post('./load/load_data_list.html', function( datalist ){ $('.js-load-data-list').html( datalist ); });\n    });\n}\n\n// Add data in file\nfunction add_data_in_file( title, category, text ){\n    $.getJSON( 'data/data_scripts.json',function(getdata){\n        getdata.data.push( { title:title, category:category, text:text } );\n        fs.writeFile('data/data_scripts.json', JSON.stringify( getdata ), (err) =&gt; {\n            if (err) throw err;\n            console.log('It\\'s saved!');\n            $.post('./load/load_data_list.html', function( datalist ){ $('.js-load-data-list').html( datalist ); });\n        });\n    });\n}</code></pre>","dateinsert":"2017-01-19 08:07:20"},{"title":"tinymce","category":"javascript","text":"<p>tinymce remove</p>\n<pre class=\"language-javascript\"><code>tinymce.remove('textarea');</code></pre>\n<p>tinymce init</p>\n<pre class=\"language-javascript\"><code>tinymce.init({\n    selector: 'textarea',\n    height: 500,\n    theme: 'modern',\n    plugins: [\n        'advlist autolink lists link image charmap print preview hr anchor pagebreak',\n        'searchreplace wordcount visualblocks visualchars code fullscreen',\n        'insertdatetime media nonbreaking save table contextmenu directionality',\n        'emoticons template paste textcolor colorpicker textpattern imagetools codesample toc'\n    ],\n    toolbar1: 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',\n    toolbar2: 'print preview media | forecolor backcolor emoticons | codesample',\n    image_advtab: true,\n    templates: [\n        { title: 'Test template 1', content: 'Test 1' },\n        { title: 'Test template 2', content: 'Test 2' }\n    ],\n    content_css: [\n        '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',\n        '//www.tinymce.com/css/codepen.min.css'\n    ]\n});</code></pre>","dateinsert":"2017-01-19 08:07:20"},{"title":"mini animation jquery","category":"jquery","text":"<p>mini animation en jquery</p>\n<pre class=\"language-markup\">&nbsp;</pre>\n<p>&nbsp;</p>\n<pre class=\"language-javascript\"><code>$('body').on('click', '.bt-add-data', function(e){\n\n    e.stopPropagation();\n\n    $(this).css({\n        '-webkit-transform':'rotate(45deg)',\n        '-ms-transform':'rotate(45deg)',\n        'transform':'rotate(45deg)',\n        'color':'#c0392b',\n        '-webkit-transition':'transform 0.5s, color 1s',\n        'transition':'transform 0.5s, color 1s'\n    }).addClass('bt-add-data-close').removeClass('bt-add-data');\n\n    $('body').on('click', '.bt-add-data-close', function(e){\n\n        $(this).css({\n            '-webkit-transform':'rotate(0deg)',\n            '-ms-transform':'rotate(0deg)',\n            'transform':'rotate(0deg)',\n            'color':'#2c3e50',\n            '-webkit-transition':'transform 0.5s, color 1s',\n            'transition':'transform 0.5s, color 1s'\n        }).removeClass('bt-add-data-close').addClass('bt-add-data');\n\n    });\n});</code></pre>","dateinsert":"2017-01-30 23:49:27"},{"title":"load page avec jquery","category":"jquery","text":"<p>Load page avec jQuery</p>\n<p>html :</p>\n<pre class=\"language-markup\"><code> &lt;div class=\"js-load-page\"&gt;&lt;/div&gt;</code></pre>\n<p>jquery :</p>\n<pre class=\"language-javascript\"><code>// Load data page\nfunction load_data_details(){\n    $.post('./load/load_data.html', function( datadetail ){ $('.js-load-page').html( datadetail ); });\n}</code></pre>","dateisert":"2017-01-19 08:41:20","dateinsert":"2017-01-19 08:45:01"},{"title":"swiftmailler symfony","category":"symfony","text":"<p>Exemple envoi d'email</p>\n<p>Controller :</p>\n<pre class=\"language-php\"><code>...\n$useremail = $user-&gt;getEmail();\n\nif( isset($_SERVER['REMOTE_ADDR'])) { $ip = $_SERVER['REMOTE_ADDR']; }\nelse{ $ip = \"0.0.0.0\"; }\n\n$message = \\Swift_Message::newInstance()\n-&gt;setSubject('Connexion')\n-&gt;setFrom('dev.email@gmail.com')\n-&gt;setTo( $useremail )\n-&gt;setContentType(\"text/html\")\n-&gt;setBody( $this-&gt;renderView('AppBundle:EmailTemplate:EmailConnexion.html.twig', array('ip' =&gt; $ip) ) );\n\n$this-&gt;get('mailer')-&gt;send($message);\n...</code></pre>\n<p>&nbsp;</p>\n<p>Template :</p>\n<pre class=\"language-php\"><code>...\n/**\n * @Route(\"/email/connexion/{ip}\", name=\"emailconnexion\")\n */\npublic function emailconnexionAction(Request $request, $ip)\n{\n    return $this-&gt;render('ShopizfunBundle:EmailTemplate:EmailConnexion.html.twig', array('ip' =&gt; $ip));\n}\n...</code></pre>","dateinsert":"2017-01-19 22:41:33"},{"title":"compress image en php","category":"php","text":"<p>Compress image before upload</p>\n<pre class=\"language-php\"><code>function compress($source, $destination, $quality) {\n\n    $info = getimagesize($source);\n\n    if ($info['mime'] == 'image/jpeg')\n        $image = imagecreatefromjpeg($source);\n\n    elseif ($info['mime'] == 'image/gif')\n        $image = imagecreatefromgif($source);\n\n    elseif ($info['mime'] == 'image/png')\n        $image = imagecreatefrompng($source);\n\n    imagejpeg($image, $destination, $quality);\n\n    return $destination;\n}</code></pre>\n<p>&nbsp;</p>\n<pre class=\"language-php\"><code>$dir = \"path/images/\";\n$filename = \"image.jpeg\";\n\n$source_img = $dir.$filename;\n$destination_img = $dir.'compress/'.$filename;\n\n$d = compress( $source_img, $destination_img, 70 );</code></pre>","dateinsert":"2017-01-21 12:14:53"},{"title":"js push / splice","category":"javascript","text":"<p>exemple :</p>\n<pre class=\"language-javascript\"><code>// Array\nvar instancetchats = [];\n\n$('.bt-select-friend').on('click', function(){\n    \n    // On r&eacute;cup&egrave;re l'id du bloc\n    var id0 = $(this).attr('id'), id1 = id0.split('_'), id = id1[1];\n    //Si le bloc existe, on le supprime..( splice )\n    if( $('.selected-'+id).is(':visible') ){\n        \n        var i = instancetchats.indexOf(id);\n        if(i != -1) {\n            instancetchats.splice(i, 1);\n        }\n        // On classe les item de l'array par ordre ascendant\n        instancetchats = instancetchats.sort();\n\n    }\n    // Si il existe pas, on l'ajoute a l'array ( push )\n    else{\n\n        instancetchats.push( id );\n        // On classe les item de l'array par ordre ascendant\n        instancetchats = instancetchats.sort();\n\n    }\n});</code></pre>","dateinsert":"2017-01-24 08:46:30"},{"title":"gulp min","category":"gulp","text":"<p>minify css / js</p>\n<p>Exmple :</p>\n<pre class=\"language-javascript\"><code>var gulp        = require('gulp');\nvar cleanCSS    = require('gulp-clean-css');\nvar concatCss   = require('gulp-concat-css');\nvar watch       = require('gulp-watch');\nvar uglify      = require('gulp-uglifyjs');\n\ngulp.task('cssmin', function(done) {\n  return gulp.src('web/css/tmpluser/tmpluser.css').pipe(concatCss(\"tmpluser.min.css\")).pipe(cleanCSS({compatibility: 'ie8'})).pipe(gulp.dest('web/css/tmpluser/minify'));\n});\n\ngulp.task('uglifyjs', function(done) {\n    return gulp.src('web/js/tmpluser/jquery.tmpluser.js').pipe(uglify()).pipe(gulp.dest('web/js/tmpluser/min'))\n});\n\ngulp.task('watch', function(done) {\n  gulp.watch('web/css/tmpluser/tmpluser.css', gulp.series('cssmin'));\n  gulp.watch('web/js/tmpluser/jquery.tmpluser.js', gulp.series('uglifyjs'));\n});\n\n\ngulp.task('default', gulp.series( ['cssmin', 'uglifyjs', 'watch'], function(done) {\n}));</code></pre>","dateinsert":"2017-01-25 07:25:12"},{"title":"install gulp 4","category":"gulp","text":"<p>Global</p>\n<pre class=\"language-bash\"><code>$ npm rm -g gulp\n$ npm install -g gulp-cli</code></pre>\n<p>Local</p>\n<pre class=\"language-bash\"><code>$ npm uninstall gulp --save-dev\n$ npm install 'gulpjs/gulp.git#4.0' --save-dev</code></pre>","dateinsert":"2017-01-29 02:12:29"},{"title":"math round","category":"javascript","text":"<p>math round js</p>\n<pre class=\"language-javascript\"><code>(function() {\n    function decimalAdjust(type, value, exp) {\n        // Si la valeur de exp n'est pas d&eacute;finie ou vaut z&eacute;ro...\n        if (typeof exp === 'undefined' || +exp === 0) {\n            return Math[type](value);\n        }\n        value = +value;\n        exp = +exp;\n        // Si la valeur n'est pas un nombre\n        // ou si exp n'est pas un entier...\n        if (isNaN(value) || !(typeof exp === 'number' &amp;&amp; exp % 1 === 0)) {\n            return NaN;\n        }\n        // D&eacute;calage\n        value = value.toString().split('e');\n        value = Math[type](+(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp)));\n        // D&eacute;calage invers&eacute;\n        value = value.toString().split('e');\n        return +(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp));\n    }\n\n    // Arrondi d&eacute;cimal\n    if (!Math.round10) {\n        Math.round10 = function(value, exp) {\n            return decimalAdjust('round', value, exp);\n        };\n    }\n    // Arrondi d&eacute;cimal inf&eacute;rieur\n    if (!Math.floor10) {\n        Math.floor10 = function(value, exp) {\n            return decimalAdjust('floor', value, exp);\n        };\n    }\n    // Arrondi d&eacute;cimal sup&eacute;rieur\n    if (!Math.ceil10) {\n        Math.ceil10 = function(value, exp) {\n            return decimalAdjust('ceil', value, exp);\n        };\n    }\n})();</code></pre>","dateinsert":"2017-01-30 23:04:50"},{"title":"fs open file","category":"nodejs","text":"<p>fs open file nodejs</p>\n<pre class=\"language-javascript\"><code>// Open file\nfs.open('data/data_scripts.json', 'r+', function(err, fd) {\n    if( err || fd == undefined ){ \n        function_one(); \n    }\n    else{ \n        function_two(); \n    }\n});</code></pre>","dateinsert":"2017-01-30 23:56:44"},{"title":"php try catch","category":"php","text":"<p>php try catch</p>\n<pre class=\"language-php\"><code>//Function divise\nfunction divise( $a, $b )\n{\n    if( $a != 0 &amp;&amp; $b != 0 ):\n        return $a / $b;\n    else:\n        throw new Exception('Division par z&eacute;ro.');\n    endif;\n\n}\n\ntry{\n    echo divise(5, 0);\n} catch(Exception $e){\n    var_dump( $e );\n    die();\n}</code></pre>","dateinsert":"2017-03-09 09:17:45"},{"title":"jquery getjson","category":"jquery","text":"<p>jquery getjson</p>\n<pre class=\"language-javascript\"><code>var results = [];\n$.getJSON( 'data/data_scripts.json',function( getdata ){\n\n    $.each( getdata.data, function( key, val ) {\n\n        var valtext     = val.text;\n        var valtitle    = val.title;\n\n        if (valtext.indexOf( data_search ) &gt;= 0 || valtitle.indexOf( data_search ) &gt;= 0 ){\n\n            for( var i=0; i&lt;results.length; i++){\n                console.log(results[i])\n            }\n\n            var bloc_list =\n            \"&lt;div id='searchbloclist_\" + key + \"' class='bloc-list'&gt;\"+\n            \"&lt;div class='bloc-list-icon'&gt;&lt;i class='devicon-\" +val.category+ \"-plain colored'&gt;&lt;/i&gt;&lt;/div&gt;\"+\n            \"&lt;div class='bloc-list-text'&gt;\"+\n            \"&lt;div class='bloc-list-title'&gt;\" + val.title + \"&lt;/div&gt;\"+\n            \"&lt;div class='bloc-list-category'&gt;\" + val.category + \"&lt;/div&gt;\"+\n            \"&lt;/div&gt;\"+\n            \"&lt;/div&gt;\";\n\n            var i = results.indexOf(bloc_list);\n            if(i != -1) { results.splice(i, 1); }\n                setTimeout(function(){ results.push( bloc_list ); },500);\n            }\n        });\n    });\n}\nelse if(data_search.length &lt;= 1){\n    $.post('./load/load_search_result.html', function( dataresult ){ $('.js-load-data-list').html( dataresult ); });\n}\n\nsetTimeout(function(){ $('.append-data').html( results ); },2000);</code></pre>","dateinsert":"2017-03-09 18:09:42"},{"title":"connexion PDO","category":"php","text":"<p>connexion PDO</p>\n<pre class=\"language-php\"><code>//Connexion\n$pdo = new PDO('mysql:host=localhost;dbname=dbname;charset=utf8', 'root', 'password');\n\n//Requete\n$req = $pdo-&gt;prepare('SELECT * FROM mytable'); \n\n//Execute\n$req-&gt;execute();\n\n//Results array()\n$results = $req-&gt;fetchAll();</code></pre>","dateinsert":"2017-03-09 18:09:42"},{"title":"js detect Os","category":"javascript","text":"<p>js detect Os</p>\n<pre class=\"language-javascript\"><code>//Global object\nvar navigator = window.navigator;\nconsole.log( navigator );\n\n//Object item\nvar navigator_platform = navigator.platform;\nconsole.log( navigator_platform );</code></pre>","dateinsert":"2017-03-10 08:46:10"},{"title":"symfony translation fr/en","category":"symfony","text":"<p>Contoller function</p>\n<pre class=\"language-php\"><code>public function lang()\n{\n    //Get user app..\n    $lang = $this-&gt;get('security.token_storage')-&gt;getToken()-&gt;getUser()-&gt;getUserprofile()-&gt;getLang();\n    return $lang;\n}\n\npublic function translation_fr(){\n    $em             = $this-&gt;getDoctrine()-&gt;getManager();\n    //Get translation data in db..\n    $datas          = $em-&gt;getRepository('AppBundle:Translation')-&gt;findAll();\n    $translations   = array();\n    foreach( $datas as $t )\n    {\n        // Item in db, locale, french, english..\n        $locale = $t-&gt;getLocale();\n        $fr_text = $t-&gt;getFrench();\n        $translations[\"$locale\"] = $fr_text;\n    }\n\n    return $translations;\n}\n\npublic function translation_en(){\n\n    $em             = $this-&gt;getDoctrine()-&gt;getManager();\n    $datas          = $em-&gt;getRepository('AppBundle:Translation')-&gt;findAll();\n    $translations   = array();\n    foreach( $datas as $t )\n    {\n        $locale = $t-&gt;getLocale();\n        $eng_text = $t-&gt;getEnglish();\n        $translations[\"$locale\"] = $eng_text;\n    }\n\n    return $translations;\n}</code></pre>\n<p>&nbsp;</p>\n<p>Call function in method</p>\n<pre class=\"language-php\"><code>$lang = $this-&gt;lang();\nif( $lang === \"en\" ){ $translations = $this-&gt;translation_en(); }\nelse if( $lang === \"fr\" ){ $translations = $this-&gt;translation_fr(); }\nelse{ $translations = $this-&gt;translation_en(); }</code></pre>\n<p>&nbsp;</p>\n<p>render view</p>\n<pre class=\"language-php\"><code>//Exemple\n...\n\nreturn $this-&gt;render('AppBundle:view:index.html.twig', array( 'translations' =&gt; $translations, ));</code></pre>\n<p>&nbsp;</p>\n<p>html / twig</p>\n<pre class=\"language-twig\"><code>...\n{{ translations.open|capitalize }}\n...</code></pre>","dateinsert":"2017-03-27 07:44:45"},{"title":"reset cache image","category":"html5","text":"<p>twig :</p>\n<pre class=\"language-twig\"><code>&lt;img src=\"{{ asset('/img/sportcategory/') }}{{ sportcategory.image}}?lastmod={{ \"now\"|date(\"YmdHis\") }}\"&gt;</code></pre>\n<p>&nbsp;</p>\n<p>php :</p>\n<pre class=\"language-php\"><code>&lt;img src=\"/img/sportcategory/image.jpg?lastmod=...php echo date('YmdHi');\"&gt;</code></pre>","dateinsert":"2017-04-22 07:23:27"}]}